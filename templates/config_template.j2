{
    "cluster_os_type": "{{ cluster_os_type }}",
    "cluster_os_version": "{{ cluster_os_version }}",
    "repo_config": "{{ repo_config }}",
    "softwares": [
        {% for software in softwares %}
        {
            "name": "{{ software.name }}",
            {% if software.version is defined %}
            "version": "{{ software.version }}"
            {% else %}
            "version": "default"
            {% endif %}
        }{% if not loop.last %},{% endif %}
        {% endfor %}
    ],
    "bcm_roce": [
        {
            "name": "{{ bcm_roce.split('-')[0] }}",
            "version": "{{ bcm_roce.split('-')[1] }}"
        }
    ],
    "amdgpu": [
        {% for lib in amdgpu %}
        {
            "name": "{{ lib.name }}",
            "version": "{{ lib.version }}"
        }{% if not loop.last %},{% endif %}
        {% endfor %}
    ],
    "pytorch": [
        {% for lib in pytorch %}
        {
            "name": "{{ lib.name }}"
        }{% if not loop.last %},{% endif %}
        {% endfor %}
    ],
    "tensorflow": [
        {% for lib in tensorflow %}
        {
            "name": "{{ lib.name }}"
        }{% if not loop.last %},{% endif %}
        {% endfor %}
    ]
}
